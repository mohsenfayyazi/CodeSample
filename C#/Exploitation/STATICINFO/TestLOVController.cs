using Asr.Text;
using Kendo.Mvc.Extensions;
using Kendo.Mvc.UI;
using System.Linq;
using System.Web.Mvc;

namespace Equipment.Controllers.Exploitation.STATICINFO
{
    public class TestLOVController : DbController
    {
        //
        // GET: /TestLOV/

        public ActionResult Index()
        {
            return View();
        }

        public ActionResult ActionTest()
        {
            return View();
        }

        public ActionResult tttt([DataSourceRequest] DataSourceRequest request, string filterInput)
        {
            bool filterDisable = string.IsNullOrEmpty(filterInput);
            string filter = string.IsNullOrEmpty(filterInput.ToUpper()) ? "" : filterInput.ToUpper().ToArabicUtf8();
            var query = (from b in Db.EXP_POST_LINE
                         where b.EPOL_TYPE == "0" && (b.EPOL_NAME.ToUpper().Contains(filter) || filterDisable)
                         select new
                         {
                             b.EPOL_ID,
                             b.EPOL_NAME,
                             b.CODE_DISP
                         });

            return Json(query.ToDataSourceResult(request), JsonRequestBehavior.AllowGet);
        }


        public ActionResult hhhh()
        {
            var query = (from b in Db.EXP_POST_LINE
                         where b.EPOL_TYPE == "0"
                         select new
                         {
                             b.EPOL_ID,
                             b.EPOL_NAME,
                             b.CODE_DISP
                         });

            return Json(query, JsonRequestBehavior.AllowGet);
        }


        public ActionResult test()
        {
            return View();
        }

    }

}
